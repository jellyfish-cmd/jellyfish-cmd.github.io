
<!DOCTYPE html>

<html lang="zh-Hant">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>æ‰€æœ‰å•†å“ï½œé¦¬å¡é¾å°èˆ–</title>
<link href="hamburger.css?v=final1" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&amp;display=swap" rel="stylesheet"/>
<style>
    :root {
      --pink:#ff7fbf;
      --ink:#222;
      --muted:#666;
      --shadow:0 10px 30px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box;}
    body {
      margin:0;
      font-family:system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans", Arial;
      color:var(--ink);
      background:#fff;
      padding-top:80px;
    }
    header {
      position:fixed; left:0; right:0; top:0; height:72px;
      display:flex; align-items:center; padding:0 16px 0 20px;
      background:rgba(255,255,255,.7); backdrop-filter:saturate(1.2) blur(8px);
      border-bottom:1px solid rgba(0,0,0,.06); z-index:900;
    }
    .brand {
      font-weight: 500;
      letter-spacing: .2px;
      color: var(--ink);
    }
.brand a {
  font-family: "Pacifico", cursive;
  font-size: 28px;
  text-decoration: none;
  color: var(--ink);
}
    .grid {
      width:min(1200px, 94vw);
      margin: 0 auto 120px;
      display:grid;
      gap:14px;
      /* NOTE: ç¬¦åˆéœ€æ±‚ï¼šæ‰‹æ©Ÿ3å€‹å…ƒç´ ã€é›»è…¦2å€‹å…ƒç´ ï¼ˆåˆ»æ„é¡›å€’ï¼‰ */
      grid-template-columns: repeat(2, 1fr); /* æ‰‹æ©Ÿå¤§å°ï¼š3 */
    }
    @media (min-width: 1024px) {
      .grid { grid-template-columns: repeat(3, 1fr); } /* é›»è…¦å¤§å°ï¼š2 */
    }

    .item {
      background:#fff;
      border:1px solid rgba(0,0,0,.06);
      border-radius:16px;
      display:flex;
      flex-direction:column;
      overflow:hidden;
      box-shadow: var(--shadow);
    }
    .photo {
      aspect-ratio: 4/3;
      background: linear-gradient(135deg, #ffe3f1, #fff);
      display:grid; place-items:center;
      color:#999; font-weight:700;
    }
    .content {
      padding:12px 14px 6px;
      display:grid; gap:6px;
    }
    .title {
      font-size:18px;
      font-weight:800;
      line-height:1.2;
    }
    .desc {
      color:var(--muted);
      font-size:13px;
    }
    .pick {
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 14px 14px;
    }
    .pick label { font-size:14px; color:#444; }
    .pick input { width:18px; height:18px; }

    /* åº•éƒ¨æµ®å‹•æ¢ç‹€æ¡† */
    .floating-bar {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(255,255,255,.92);
      backdrop-filter: blur(8px);
      border-top: 1px solid rgba(0,0,0,.06);
      box-shadow: 0 -10px 30px rgba(0,0,0,.08);
      padding: 10px 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      z-index: 950;
    }
    .floating-bar .info {
      font-size:14px; color:#444;
    }
    .floating-bar a.btn {
      text-decoration:none;
      background: var(--pink);
      color:#fff;
      padding: 10px 16px;
      border-radius: 999px;
      font-weight: 800;
      box-shadow: var(--shadow);
    }
  

/* ===== ç”¢å“è©³æƒ…é¢æ¿ï¼ˆ3/5å¯¬åº¦ï¼Œç½®ä¸­ï¼‰ ===== */
#product-detail-overlay {
  position: fixed;
  inset: 0;
  z-index: 999;
}
#product-detail-overlay[aria-hidden="true"] { display: none; }
.detail-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(2px);
}
.detail-card {
  position: absolute;
  left: 50%; top: 50%;
  transform: translate(-50%, -50%);
  width: 60vw;                 /* ç´„ 3/5 å¯¬åº¦ */
  max-width: 980px;
  max-height: 85vh;
  background: #fff;
  border-radius: 16px;
  box-shadow: var(--shadow);
  display: grid;
  grid-template-rows: auto 1fr;
  overflow: hidden;
}
.detail-close {
  position: absolute;
  right: 10px; top: 8px;
  border: 0; background: transparent;
  font-size: 28px; line-height: 1;
  cursor: pointer;
  color: #444;
}
.detail-figure img {
  width: 100%; height: 38vh; object-fit: cover;
  display: block;
  background: #fafafa;
}
.detail-body { padding: 16px 20px 22px; overflow-y: auto; }
.detail-body h2 { margin: 0 0 8px; font-size: 22px; }
.detail-body h3 { margin: 14px 0 6px; font-size: 16px; color: var(--muted); }
.detail-body p { margin: 0 0 6px; line-height: 1.6; }

/* å°è¢å¹•èª¿æ•´ï¼ˆå¯¬åº¦æ»¿ç‰ˆã€åœ–ç‰‡é«˜åº¦ç¸®å°ï¼‰ */
@media (max-width: 768px) {
  .detail-card { width: 92vw; }
  .detail-figure img { height: 30vh; }
}

/* æŒ‡æ¨™å¯é» */
article.item { cursor: pointer; }
article.item:focus { outline: 2px solid var(--pink); outline-offset: 4px; border-radius: 12px; }


/* ===== å•†å“è©³æƒ… - æ–°å¢åŠŸèƒ½ ===== */
.detail-share {
  position: absolute;
  right: 46px; top: 8px;
  border: 0; background: transparent;
  font-size: 22px; line-height: 1;
  cursor: pointer; color: #444;
}
.detail-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 14px 20px 18px;
  border-top: 1px solid rgba(0,0,0,.08);
}
.qty-control {
  display: flex; align-items: center; gap: 6px;
}
.qty-control button {
  width: 28px; height: 28px;
  font-size: 18px; border-radius: 6px;
  border: 1px solid #ccc; background: #fafafa;
  cursor: pointer;
}
.qty-control input {
  width: 46px; text-align: center; font-size: 15px;
}
.price-add {
  display: flex; align-items: center; gap: 14px;
}
#detail-price {
  font-size: 18px; font-weight: 700; color: var(--ink);
}
.btn-add-cart {
  background: var(--pink); color: #fff; font-weight: 700;
  border: none; border-radius: 999px; padding: 8px 16px;
  cursor: pointer; box-shadow: var(--shadow);
}


/* ===== æ¼‚æµ®åœ“å½¢æŒ‰éˆ•ï¼ˆé—œé–‰/åˆ†äº«ï¼‰ ===== */
.detail-close, .detail-share {
  position: absolute;
  top: 10px;
  width: 40px; height: 40px;
  border: none; border-radius: 50%;
  background: #fff;
  box-shadow: 0 4px 12px rgba(0,0,0,.15);
  cursor: pointer; font-size: 20px;
  display: grid; place-items: center;
}
.detail-close { left: 10px; }
.detail-share { right: 10px; }

/* ===== åƒ¹æ ¼ + æ•¸é‡ + åŠ å…¥è³¼ç‰©è»Š ===== */
.detail-actions { margin-top: 14px; display: grid; gap: 12px; }
.price-row { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
.price-wrap { display: flex; align-items: baseline; gap: 8px; }
.price-label { font-size: 14px; color: var(--muted); }
.price { font-size: 20px; font-weight: 700; }
.qty-wrap { display: flex; align-items: center; gap: 8px; }
.qty-btn {
  width: 36px; height: 36px; border-radius: 8px;
  border: 1px solid #ddd; background: #fff; font-size: 20px; cursor: pointer;
}
#qty-input {
  width: 60px; height: 36px; text-align: center; font-size: 16px;
  border: 1px solid #ddd; border-radius: 8px;
}
.btn-primary {
  width: 100%; height: 48px; border: none; border-radius: 10px;
  background: #111; color: #fff; font-size: 16px; font-weight: 700; cursor: pointer;
}
.toast {
  position: relative; padding: 10px 12px; border-radius: 8px;
  background: #f0fff2; color: #1a7f37; border:1px solid #b7efc5;
}


.buy-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-top: 12px;
}

.price {
  font-size: 18px;
  font-weight: 700;
}

.qty-wrap {
  display: flex;
  align-items: center;
  gap: 6px;
}

.qty-btn {
  width: 32px; height: 32px;
  border: 1px solid #ddd;
  background: #fff;
  border-radius: 6px;
  font-size: 18px;
  cursor: pointer;
}

#qty-input {
  width: 48px; height: 32px;
  text-align: center;
  border: 1px solid #ddd;
  border-radius: 6px;
}

.btn-pink {
  background: var(--pink);
  color: #fff;
  font-weight: 700;
  padding: 8px 14px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  white-space: nowrap;
}


/* === Pink button row layout === */
.buy-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}
.price { font-size: 18px; font-weight: 700; }
.qty-wrap { display: flex; align-items: center; gap: 6px; }
.qty-btn {
  width: 32px; height: 32px;
  border: 1px solid #ddd; background: #fff;
  border-radius: 6px; font-size: 18px; cursor: pointer;
}
#qty-input {
  width: 56px; height: 32px; text-align: center;
  border: 1px solid #ddd; border-radius: 6px;
}
.btn-pink {
  background: var(--pink); color: #fff; font-weight: 700;
  padding: 10px 16px; border: none; border-radius: 999px;
  cursor: pointer; white-space: nowrap; box-shadow: 0 8px 24px rgba(255,127,191,.35);
}
@media (max-width: 768px) {
  .buy-row { gap: 10px; }
  .btn-pink { width: 100%; text-align: center; }
}
</style>
</head>
<body>
<script>
(function(){
  const toggle = document.getElementById('hamburger-toggle');
  const panel = document.querySelector('.hamburger-panel');
  const label = document.querySelector('label.hamburger-button');
  if (!toggle || !panel || !label) return;

  function setAria(){
    label.setAttribute('aria-expanded', toggle.checked ? 'true' : 'false');
  }
  toggle.addEventListener('change', setAria);
  setAria();

  // é»é¸é€£çµå¾Œè‡ªå‹•é—œé–‰
  panel.addEventListener('click', function(e){
    if (e.target.tagName === 'A') {
      toggle.checked = false;
      setAria();
    }
  });

  // é»æ“Šå¤–éƒ¨è‡ªå‹•é—œé–‰
  document.addEventListener('click', function(e){
    const wrap = document.querySelector('.hamburger-wrap');
    if (toggle.checked && !wrap.contains(e.target)) {
      toggle.checked = false;
      setAria();
    }
  });

  // æŒ‰ ESC é—œé–‰
  document.addEventListener('keydown', function(e){
    if (e.key === 'Escape' && toggle.checked) {
      toggle.checked = false;
      setAria();
    }
  });
})();
</script>
<header>
<div class="brand">
<a aria-label="å›é¦–é " class="brand-link" href="index.html">Bare Bites</a>
</div>
</header>
<!-- å…±ç”¨æ¼¢å ¡é¸å–® -->
<div aria-label="ä¸»é¸å–®" class="hamburger-wrap">
<input id="hamburger-toggle" type="checkbox"/>
<label aria-controls="menu" aria-expanded="false" class="hamburger-button" for="hamburger-toggle">
<span class="hamburger-lines"></span>
<span class="sr">é–‹å•Ÿé¸å–®</span>
</label>
<nav aria-label="ä¸»è¦å°è¦½" class="hamburger-panel" id="menu" role="navigation">
<a href="index.html"> é¦–é </a>
<a href="allithems.html">æ‰€æœ‰å•†å“</a>
<a href="orderithems.html">è¨‚åšé¦¬å¡é¾</a>
<a href="index.html#contact">è¯çµ¡æˆ‘å€‘</a>
</nav>
</div>
<main aria-label="å•†å“åˆ—è¡¨ï¼ˆæ¯å€‹å…ƒç´ ï¼šç…§ç‰‡ + å¤§å­— + å°å­— + å‹¾é¸ï¼‰" class="grid">
<!-- ç¯„ä¾‹ 6 å€‹å…ƒç´ ï¼Œå¯è‡ªè¡Œè¤‡è£½æ“´å…… -->
<!-- å…ƒç´  1 -->
<article aria-label="æŸ¥çœ‹ è¦†ç›†å­é¦¬å¡é¾ è©³ç´°è³‡è¨Š" class="item" data-image="images/Bites.png" data-notes="é…¸ç”œå¹³è¡¡çš„è“æœé¦™ï¼Œäººæ°£ç¶“å…¸ã€‚" data-nutrition="ç†±é‡: - kcalï½œè›‹ç™½è³ª: - gï½œè„‚è‚ª: - gï½œç¢³æ°´: - gï½œç³–: - gï½œéˆ‰: - mg" data-price="50" data-title="è¦†ç›†å­é¦¬å¡é¾" role="button" tabindex="0">
<div class="photo">ç…§ç‰‡</div>
<div class="content">
<div class="title">è¦†ç›†å­é¦¬å¡é¾</div>
<div class="desc">é…¸ç”œå¹³è¡¡çš„è“æœé¦™ï¼Œäººæ°£ç¶“å…¸ã€‚</div>
</div>
<div class="pick">
<label for="pick-1">åŠ å…¥</label>
<input id="pick-1" type="checkbox"/>
</div>
</article>
<!-- å…ƒç´  2 -->
<article aria-label="æŸ¥çœ‹ é–‹å¿ƒæœé¦¬å¡é¾ è©³ç´°è³‡è¨Š" class="item" data-image="images/Bites.png" data-notes="æ¿ƒéƒå …æœé¦™èˆ‡å¥¶å‘³ã€‚" data-nutrition="ç†±é‡: - kcalï½œè›‹ç™½è³ª: - gï½œè„‚è‚ª: - gï½œç¢³æ°´: - gï½œç³–: - gï½œéˆ‰: - mg" data-price="50" data-title="é–‹å¿ƒæœé¦¬å¡é¾" role="button" tabindex="0">
<div class="photo">ç…§ç‰‡</div>
<div class="content">
<div class="title">é–‹å¿ƒæœé¦¬å¡é¾</div>
<div class="desc">æ¿ƒéƒå …æœé¦™èˆ‡å¥¶å‘³ã€‚</div>
</div>
<div class="pick">
<label for="pick-2">åŠ å…¥</label>
<input id="pick-2" type="checkbox"/>
</div>
</article>
<!-- å…ƒç´  3 -->
<article aria-label="æŸ¥çœ‹ æª¸æª¬é¦¬å¡é¾ è©³ç´°è³‡è¨Š" class="item" data-image="images/Bites.png" data-notes="æ¸…çˆ½æª¸æª¬å‡ä¹³ï¼Œå°¾éŸ»å¸¶èŠ±é¦™ã€‚" data-nutrition="ç†±é‡: - kcalï½œè›‹ç™½è³ª: - gï½œè„‚è‚ª: - gï½œç¢³æ°´: - gï½œç³–: - gï½œéˆ‰: - mg" data-price="50" data-title="æª¸æª¬é¦¬å¡é¾" role="button" tabindex="0">
<div class="photo">ç…§ç‰‡</div>
<div class="content">
<div class="title">æª¸æª¬é¦¬å¡é¾</div>
<div class="desc">æ¸…çˆ½æª¸æª¬å‡ä¹³ï¼Œå°¾éŸ»å¸¶èŠ±é¦™ã€‚</div>
</div>
<div class="pick">
<label for="pick-3">åŠ å…¥</label>
<input id="pick-3" type="checkbox"/>
</div>
</article>
<!-- å…ƒç´  4 -->
<article aria-label="æŸ¥çœ‹ ç„¦ç³–æµ·é¹½ è©³ç´°è³‡è¨Š" class="item" data-image="images/Bites.png" data-notes="å¾®é¹¹è¥¯æ‰˜ç„¦ç³–è‹¦ç”œã€‚" data-nutrition="ç†±é‡: - kcalï½œè›‹ç™½è³ª: - gï½œè„‚è‚ª: - gï½œç¢³æ°´: - gï½œç³–: - gï½œéˆ‰: - mg" data-price="50" data-title="ç„¦ç³–æµ·é¹½" role="button" tabindex="0">
<div class="photo">ç…§ç‰‡</div>
<div class="content">
<div class="title">ç„¦ç³–æµ·é¹½</div>
<div class="desc">å¾®é¹¹è¥¯æ‰˜ç„¦ç³–è‹¦ç”œã€‚</div>
</div>
<div class="pick">
<label for="pick-4">åŠ å…¥</label>
<input id="pick-4" type="checkbox"/>
</div>
</article>
<!-- å…ƒç´  5 -->
<article aria-label="æŸ¥çœ‹ ä¼¯çˆµå¥¶èŒ¶ è©³ç´°è³‡è¨Š" class="item" data-image="images/Bites.png" data-notes="ä½›æ‰‹æŸ‘èŒ¶é¦™èåˆå¥¶é¦™ã€‚" data-nutrition="ç†±é‡: - kcalï½œè›‹ç™½è³ª: - gï½œè„‚è‚ª: - gï½œç¢³æ°´: - gï½œç³–: - gï½œéˆ‰: - mg" data-price="50" data-title="ä¼¯çˆµå¥¶èŒ¶" role="button" tabindex="0">
<div class="photo">ç…§ç‰‡</div>
<div class="content">
<div class="title">ä¼¯çˆµå¥¶èŒ¶</div>
<div class="desc">ä½›æ‰‹æŸ‘èŒ¶é¦™èåˆå¥¶é¦™ã€‚</div>
</div>
<div class="pick">
<label for="pick-5">åŠ å…¥</label>
<input id="pick-5" type="checkbox"/>
</div>
</article>
<!-- å…ƒç´  6 -->
<article aria-label="æŸ¥çœ‹ æ¿ƒå·§å…‹åŠ› è©³ç´°è³‡è¨Š" class="item" data-image="images/Bites.png" data-notes="70% å¯å¯é†¬å¤¾å¿ƒï¼Œåšå¯¦å£æ„Ÿã€‚" data-nutrition="ç†±é‡: - kcalï½œè›‹ç™½è³ª: - gï½œè„‚è‚ª: - gï½œç¢³æ°´: - gï½œç³–: - gï½œéˆ‰: - mg" data-price="50" data-title="æ¿ƒå·§å…‹åŠ›" role="button" tabindex="0">
<div class="photo">ç…§ç‰‡</div>
<div class="content">
<div class="title">æ¿ƒå·§å…‹åŠ›</div>
<div class="desc">70% å¯å¯é†¬å¤¾å¿ƒï¼Œåšå¯¦å£æ„Ÿã€‚</div>
</div>
<div class="pick">
<label for="pick-6">åŠ å…¥</label>
<input id="pick-6" type="checkbox"/>
</div>
</article>
</main><div aria-hidden="true" aria-modal="true" id="product-detail-overlay" role="dialog" style="display:none;">
<div class="detail-backdrop" data-close="true"></div>
<div class="detail-card" role="document">
<button aria-label="åˆ†äº«" class="detail-share" title="åˆ†äº«">ğŸ”—</button><button aria-label="é—œé–‰" class="detail-close" title="é—œé–‰">Ã—</button>
<div class="detail-figure">
<img alt="å•†å“åœ–ç‰‡" id="detail-image"/>
</div>
<div class="detail-body">
<h2 id="detail-title">å•†å“åç¨±</h2>
<section class="detail-notes">
<h3>å‚™è¨»</h3>
<p id="detail-notes">ï¼ˆåº—ä¸»å‚™è¨»ï¼šè«‹è£œå……èªªæ˜ï¼‰</p>
</section>
<section class="detail-nutrition">
<h3>ç‡Ÿé¤Šæ¨™ç¤º</h3>
<p id="detail-nutrition">ç†±é‡: - kcalï½œè›‹ç™½è³ª: - gï½œè„‚è‚ª: - gï½œç¢³æ°´: - gï½œç³–: - gï½œéˆ‰: - mg</p>
</section>
<div class="detail-actions">
<div aria-label="è³¼è²·å€" class="buy-row" role="group">
<span class="price" id="detail-price">NT$0</span>
<div aria-label="æ•¸é‡é¸æ“‡" class="qty-wrap">
<button aria-label="æ¸›å°‘æ•¸é‡" class="qty-btn" id="qty-minus" type="button">âˆ’</button>
<input aria-label="æ•¸é‡" id="qty-input" inputmode="numeric" min="1" type="number" value="1"/>
<button aria-label="å¢åŠ æ•¸é‡" class="qty-btn" id="qty-plus" type="button">ï¼‹</button>
</div>
<button aria-label="åŠ å…¥è³¼ç‰©è»Š" class="btn-pink" id="add-to-cart">
    åŠ å…¥è³¼ç‰©è»Š Â· <span id="total-price">NT$0</span>
</button>
</div>
<div aria-atomic="true" aria-live="polite" class="toast" hidden="" id="cart-toast" role="status">å·²åŠ å…¥è³¼ç‰©è»Šï¼</div>
</div>
</div>
</div>
</div>
<!-- æµ®å‹•æ¢ç‹€æ¡†ï¼ˆå³å´æœ‰æŒ‰éˆ•å¯å‰å¾€è³¼ç‰©è»Šï¼‰ -->
<div aria-label="è³¼ç‰©è»Šæ·å¾‘" class="floating-bar" role="region">
<div class="info">å·²é¸æ“‡çš„å•†å“æœƒé¡¯ç¤ºæ–¼è³¼ç‰©è»Š</div>
<a class="btn" href="orderithems.html">å‰å¾€è³¼ç‰©è»Š</a>
</div>
<script>
(function(){
  const overlay = document.getElementById('product-detail-overlay');
  const priceEl = document.getElementById('detail-price');
  const qtyInput = () => document.getElementById('detail-qty');
  let basePrice = 50;

  function openDetail(data) {
    basePrice = (data.price && !isNaN(parseFloat(data.price))) ? parseFloat(data.price) : 50;
    priceEl.textContent = 'NT$' + basePrice;
    if (qtyInput()) qtyInput().value = 1;
    overlay.style.display = 'block';
    overlay.setAttribute('aria-hidden', 'false');
    document.body.style.overflow = 'hidden';
  }

  function closeDetail(){
    overlay.setAttribute('aria-hidden', 'true');
    overlay.style.display = 'none';
    document.body.style.overflow = '';
  }

  document.addEventListener('click', function(e){
    if (e.target.closest('article.item')) {
      const item = e.target.closest('article.item');
      const data = {
        title: item.getAttribute('data-title'),
        image: item.getAttribute('data-image'),
        notes: item.getAttribute('data-notes'),
        nutrition: item.getAttribute('data-nutrition'),
        price: item.getAttribute('data-price') || '50'
      };
      // populate fields
      document.getElementById('detail-image').src = data.image;
      document.getElementById('detail-title').textContent = data.title;
      document.getElementById('detail-notes').textContent = data.notes;
      document.getElementById('detail-nutrition').textContent = data.nutrition;
      openDetail(data);
    }
    if (e.target.matches('.detail-close,.detail-backdrop')) {
      closeDetail();
    }
    if (e.target.classList.contains('qty-minus')) {
      let v = parseInt(qtyInput().value,10) || 1;
      if (v>1) qtyInput().value = v-1;
      updatePrice();
    }
    if (e.target.classList.contains('qty-plus')) {
      let v = parseInt(qtyInput().value,10) || 1;
      qtyInput().value = v+1;
      updatePrice();
    }
    if (e.target.classList.contains('btn-add-cart')) {
      alert('å·²åŠ å…¥è³¼ç‰©è»Šï¼š' + document.getElementById('detail-title').textContent + ' x' + qtyInput().value);
      closeDetail();
    }
    if (e.target.classList.contains('detail-share')) {
      if (navigator.share) {
        navigator.share({
          title: document.getElementById('detail-title').textContent,
          text: 'å¿«ä¾†çœ‹çœ‹é€™å€‹å•†å“ï¼',
          url: window.location.href
        });
      } else {
        prompt('è¤‡è£½ä»¥ä¸‹é€£çµåˆ†äº«ï¼š', window.location.href);
      }
    }
  });

  function updatePrice(){
    const qty = parseInt(qtyInput().value,10)||1;
    priceEl.textContent = 'NT$' + (basePrice*qty);
  }

  document.addEventListener('input', function(e){
    if (e.target.id==='detail-qty') {
      updatePrice();
    }
  });
})();
</script>
<script>
(function(){
  const $ = (sel, root=document) => root.querySelector(sel);
  const overlay = document.getElementById('product-detail-overlay');
  const imgEl = document.getElementById('detail-image');
  const titleEl = document.getElementById('detail-title');
  const notesEl = document.getElementById('detail-notes');
  const nutriEl = document.getElementById('detail-nutrition');
  const priceEl = document.getElementById('detail-price');
  const totalEl = document.getElementById('total-price');
  const qtyInput = document.getElementById('qty-input');
  const toast = document.getElementById('cart-toast');

  function money(n){ 
    const v = Number(n||0); 
    return 'NT$' + v.toLocaleString('zh-Hant-TW'); 
  }

  let current = { title:'', image:'', notes:'', nutrition:'', price:0 };

  function updateTotal() {
    const qty = Math.max(1, parseInt(qtyInput.value||'1',10));
    qtyInput.value = qty;
    totalEl.textContent = money(qty * current.price);
  }

  function openDetail(data) {
    current = {
      title: data.title || 'æœªå‘½åå•†å“',
      image: data.image || 'images/Bites.png',
      notes: data.notes || 'ï¼ˆåº—ä¸»å‚™è¨»ï¼šè«‹è£œå……èªªæ˜ï¼‰',
      nutrition: data.nutrition || 'ç†±é‡: - kcalï½œè›‹ç™½è³ª: - gï½œè„‚è‚ª: - gï½œç¢³æ°´: - gï½œç³–: - gï½œéˆ‰: - mg',
      price: Number(data.price || 0)
    };
    if (imgEl) imgEl.src = current.image;
    if (titleEl) titleEl.textContent = current.title;
    if (notesEl) notesEl.textContent = current.notes;
    if (nutriEl) nutriEl.textContent = current.nutrition;
    if (priceEl) priceEl.textContent = money(current.price);
    qtyInput.value = 1;
    updateTotal();

    overlay.style.display = 'block';
    overlay.setAttribute('aria-hidden', 'false');
    document.body.style.overflow = 'hidden';
    const btn = overlay.querySelector('.detail-close');
    if (btn) btn.focus();
  }
  function closeDetail() {
    overlay.setAttribute('aria-hidden', 'true');
    overlay.style.display = 'none';
    document.body.style.overflow = '';
  }

  document.addEventListener('click', function(e){
    const item = e.target.closest && e.target.closest('article.item');
    if (item && document.body.contains(item)) {
      e.preventDefault();
      const data = {
        title: item.getAttribute('data-title'),
        image: item.getAttribute('data-image'),
        notes: item.getAttribute('data-notes'),
        nutrition: item.getAttribute('data-nutrition'),
        price: item.getAttribute('data-price')
      };
      openDetail(data);
      return;
    }
    if (e.target.matches('.detail-backdrop,[data-close],.detail-close')) {
      closeDetail();
      return;
    }
    if (e.target.matches('#qty-minus')) {
      qtyInput.value = Math.max(1, parseInt(qtyInput.value||'1',10) - 1);
      updateTotal();
      return;
    }
    if (e.target.matches('#qty-plus')) {
      qtyInput.value = Math.max(1, parseInt(qtyInput.value||'1',10) + 1);
      updateTotal();
      return;
    }
    if (e.target.matches('#add-to-cart')) {
      const qty = Math.max(1, parseInt(qtyInput.value||'1',10));
      const cart = JSON.parse(localStorage.getItem('cart')||'[]');
      cart.push({ title: current.title, image: current.image, price: current.price, qty });
      localStorage.setItem('cart', JSON.stringify(cart));
      if (toast) {
        toast.hidden = false;
        toast.textContent = 'å·²åŠ å…¥è³¼ç‰©è»Šï¼š' + current.title + ' Ã— ' + qty + 'ï¼ˆ' + money(current.price*qty) + 'ï¼‰';
        setTimeout(()=>{ toast.hidden = true; }, 1600);
      }
      return;
    }
    if (e.target.matches('.detail-share')) {
      const shareData = {
        title: current.title || document.title,
        text: current.notes || '',
        url: location.href
      };
      if (navigator.share) {
        navigator.share(shareData).catch(()=>{});
      } else {
        // fallback: copy URL
        navigator.clipboard && navigator.clipboard.writeText(location.href);
        alert('å·²è¤‡è£½å•†å“é€£çµåˆ°å‰ªè²¼ç°¿');
      }
      return;
    }
  });

  document.addEventListener('input', function(e){
    if (e.target === qtyInput) { updateTotal(); }
  });

  document.addEventListener('keydown', function(e){
    if (e.key === 'Escape' && overlay.getAttribute('aria-hidden') === 'false') {
      closeDetail();
    }
  });
})();
</script>
<script>
(function(){
  const overlay = document.getElementById('product-detail-overlay');
  const priceEl = document.getElementById('detail-price');
  const totalEl = document.getElementById('total-price');
  const qtyInput = document.getElementById('qty-input');
  const imgEl = document.getElementById('detail-image');
  const titleEl = document.getElementById('detail-title');
  const notesEl = document.getElementById('detail-notes');
  const nutriEl = document.getElementById('detail-nutrition');
  let current = { title:'', image:'', notes:'', nutrition:'', price:0 };

  function money(n){ return 'NT$' + Number(n||0).toLocaleString('zh-Hant-TW'); }
  function updateTotal() {
    const qty = Math.max(1, parseInt(qtyInput.value||'1',10));
    qtyInput.value = qty;
    totalEl.textContent = money(qty * current.price);
  }
  function openDetail(data) {
    current = {
      title: data.title || 'æœªå‘½åå•†å“',
      image: data.image || 'images/Bites.png',
      notes: data.notes || '',
      nutrition: data.nutrition || '',
      price: Number(data.price || 0)
    };
    if (imgEl) imgEl.src = current.image;
    if (titleEl) titleEl.textContent = current.title;
    if (notesEl) notesEl.textContent = current.notes;
    if (nutriEl) nutriEl.textContent = current.nutrition;
    if (priceEl) priceEl.textContent = money(current.price);
    qtyInput.value = 1;
    updateTotal();
    overlay.style.display = 'block';
    overlay.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden';
  }
  function closeDetail(){
    overlay.setAttribute('aria-hidden','true');
    overlay.style.display = 'none';
    document.body.style.overflow = '';
  }

  document.addEventListener('click', function(e){
    const item = e.target.closest && e.target.closest('article.item');
    if (item && document.body.contains(item)){
      e.preventDefault();
      openDetail({
        title: item.getAttribute('data-title'),
        image: item.getAttribute('data-image'),
        notes: item.getAttribute('data-notes'),
        nutrition: item.getAttribute('data-nutrition'),
        price: item.getAttribute('data-price')
      });
    }
    if (e.target.matches('.detail-backdrop,.detail-close')) closeDetail();
    if (e.target.matches('#qty-minus')) { qtyInput.value=Math.max(1,parseInt(qtyInput.value||'1',10)-1); updateTotal(); }
    if (e.target.matches('#qty-plus')) { qtyInput.value=Math.max(1,parseInt(qtyInput.value||'1',10)+1); updateTotal(); }
    if (e.target.matches('#add-to-cart')) {
      const qty = Math.max(1, parseInt(qtyInput.value||'1',10));
      const cart = JSON.parse(localStorage.getItem('cart')||'[]');
      cart.push({title:current.title, image:current.image, price:current.price, qty});
      localStorage.setItem('cart', JSON.stringify(cart));
      alert('å·²åŠ å…¥è³¼ç‰©è»Šï¼š' + current.title + ' Ã— ' + qty + 'ï¼ˆ' + money(current.price*qty) + 'ï¼‰');
    }
  });
  document.addEventListener('input', function(e){ if (e.target===qtyInput) updateTotal(); });
  document.addEventListener('keydown', function(e){ if (e.key==='Escape' && overlay.getAttribute('aria-hidden')==='false') closeDetail(); });
})();
</script>
</body>
</html>
